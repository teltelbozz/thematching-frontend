/* src/styles.css */
@import "tailwindcss";

/* ========== Theme Tokens ========== */
:root{
  /* 色 */
  --bg:#0e0e10;
  --panel:#111214;
  --tile:#15161a;
  --tile-hover:#1b1c21;
  --line:#20222a;
  --text:#ececec;
  --muted:#a7aab0;
  --gold:#e6c36a;

  /* 余白/角丸/高さ */
  --radius:16px;
  --gap:14px;
  --ctrl-h:48px;   /* タップしやすい高さ */
  --font:16.5px;   /* モバイルで見やすい既定サイズ(>=16pxでズーム回避) */
  --font-sm:14px;
  --font-lg:20px;
  --font-xl:24px;
}

/* ========== Base ========== */
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Noto Sans JP", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  font-size: var(--font);
  -webkit-font-smoothing: antialiased;
}

.safe {
  padding: 18px;
  padding-bottom: max(18px, env(safe-area-inset-bottom));
}

/* ページタイトル */
.page-title {
  font-size: var(--font-xl);
  font-weight: 800;
  letter-spacing: .3px;
  margin: 4px 0 14px;
}

/* セクションカード */
.card {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: var(--gap);
}

/* フォーム基礎 */
.form { display: grid; gap: var(--gap); }
.field { display: grid; gap: 8px; }
.field-label {
  font-size: var(--font-sm);
  color: var(--muted);
}

/* ========== Controls (shared look) ========== */
/* 共有外観：textarea を追加、select は矢印装飾も同ブロックで管理 */
input[type="text"],
input[type="number"],
input[type="date"],
textarea,
select,
.button {
  height: var(--ctrl-h);
  border-radius: calc(var(--radius) - 4px);
  border: 1px solid var(--line);
  background: #ffffff;     /* 背景：白 */
  color: #111111;          /* 文字：黒 */
  padding: 0 14px;
  outline: none;
  font-size: var(--font);
}

/* select: 矢印と文字色を同居（重複ルールを整理） */
select {
  padding-right: 34px;
  appearance: none;
  background-image:
    linear-gradient(45deg, transparent 50%, #8a8f98 50%),
    linear-gradient(135deg, #8a8f98 50%, transparent 50%);
  background-position:
    calc(100% - 22px) calc(50% + 1px),
    calc(100% - 14px) calc(50% + 1px);
  background-size: 7px 7px, 7px 7px;
  background-repeat: no-repeat;
  color: #111111;
}

/* フォーカス */
input:focus,
textarea:focus,
select:focus {
  border-color: #2a7cf7;
}

/* 主要ボタン */
.btn-primary {
  background: #2a7cf7;
  border-color: #2a7cf7;
  font-weight: 700;
  color: #fff; /* 念押し */
}
.btn-primary:active { filter: brightness(.95); }

/* タイルメニュー（ホームの6分割） */
.grid6 { display: grid; gap: 12px; grid-template-columns: repeat(3, 1fr); }
.tile {
  background: var(--tile);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  height: 118px;
  transition: .15s ease;
}
.tile:hover { background: var(--tile-hover); }
.tile .icon { width: 42px; height: 42px; margin-bottom: 10px; }
.tile .label { font-size: 15px; font-weight: 700; text-align:center; }
.tile.gold { border-color:#3b3318; box-shadow: inset 0 0 0 1px #3b3318; }
.tile.gold .label { color: var(--gold); }

/* タブ風ボタン */
.tabs { display:flex; gap: 10px; margin-bottom: 14px; }
.tab {
  padding: 8px 14px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: transparent;
  color: var(--muted);
  font-weight: 700;
}
.tab.active {
  background: #15161a;
  color: var(--text);
}

/* 補助テキスト */
.text-muted { color: var(--muted); font-size: var(--font-sm); }

/* ========== Visibility Hard-Fix ========== */
/* ここからは“勝ちに行く”層。Tailwind/Preflightやダークテーマ継承を上書き */
input[type="text"],
input[type="number"],
input[type="date"],
textarea,
select {
  background: #ffffff !important;
  color: #111111 !important;
  caret-color: #111111 !important;
  color-scheme: light;
}

/* プレースホルダーは灰色で統一（白っぽくならない） */
input::placeholder,
textarea::placeholder {
  color: #6b7280;  /* gray-500 */
  opacity: 1;
}

/* オートフィル（iOS/Safari/Chrome）での白化対策 */
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-text-fill-color: #111111 !important;
  box-shadow: 0 0 0px 1000px #ffffff inset;
  transition: background-color 9999s ease-in-out 0s;
  border: 1px solid var(--line) !important;
}

/* オートフィル時の枠色も統一（任意だが見た目が安定） */
input:-webkit-autofill:focus {
  border-color: #2a7cf7 !important;
}

/* ========== Responsive tweak ========== */
@media (max-width: 360px) {
  :root { --font: 17px; --ctrl-h: 50px; }
  .tile { height: 120px; }
}

/* 入力欄の文字色は白継承を上書きする */
input,
textarea,
select {
  color: #111 !important;
  background-color: #fff !important;
}